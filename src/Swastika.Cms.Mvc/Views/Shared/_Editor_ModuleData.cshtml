@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Swastika.IO.Cms.Lib.ViewModels.ModuleDataValueViewModel Model = (Swastika.IO.Cms.Lib.ViewModels.ModuleDataValueViewModel)this.ViewData["Model"];
    string name = (string)this.ViewData["Name"];
    int index = (int)this.ViewData["Index"];
    string inputId = string.Format("{0}_{1}__StringValue", name, index);
    string inputName = string.Format("{0}[{1}].StringValue", name, index);

}


<div class="form-group">    
    <label>@Model.Name</label>
    <input type="hidden" id="@(string.Format("{0}_{1}__Name", name, index))" 
           name="@(string.Format("{0}[{1}].Name", name, index))" 
           value="@Model.Name" />
    <input type="hidden" id="@(string.Format("{0}_{1}__Value", name, index))" 
           name="@(string.Format("{0}[{1}].Value", name, index))" 
           value="@Model.Value" />
    <input type="hidden" id="@(string.Format("{0}_{1}__DataType", name, index))" 
           name="@(string.Format("{0}[{1}].DataType", name, index))" 
           value="@Model.DataType"  />
    @switch (Model.DataType)
    {
        case Swastika.IO.Cms.Lib.SWCmsConstants.DataType.Image:
            string img = Model != null ? Model.StringValue : "http://placehold.it/200x200";
            <label class="custom-file">
                @*<a href="javascript:void(0)" class="link danger lnk-remove">Remove</a>*@
                <input type="hidden" value="Modules/@Model.ModuleId" class="folder-val" />
                <img src="@img" name="pic" class="custom-file-img image" accept="image/*" />
                <input type="file" id="file" name="pic" class="custom-file-input">
                <input type="text" id="@inputId" name="@inputName" value="@Model.Value" class="custom-file-val form-control" />
                <span class="custom-file-control">Browse</span>
            </label>

            break;
        case Swastika.IO.Cms.Lib.SWCmsConstants.DataType.Icon:
            <div class="no-margin no-padding col-md-3">
                <select class="form-control selectpicker" id="@inputId" name="@inputName" value="@Model.Value">
                    <option value="fa fa-facebook" data-content="<span><i class='fa fa-1x fa-facebook'></i></span>"></option>
                    <option value="fa fa-twitter" data-content="<span><i class='fa fa-1x fa-twitter'></i></span>"></option>
                    <option value="fa fa-linkedin" data-content="<span><i class='fa fa-1x fa-linkedin'></i></span>"></option>
                    <option value="fa fa-skype" data-content="<span><i class='fa fa-1x fa-skype'></i></span>"></option>

                    <option value="fa fa fa-car" data-content="<span><i class='fa fa fa-car'></i></span>"></option>
                    <option value="fa fa fa-building" data-content="<span><i class='fa fa-building'></i></span>"></option>
                    <option value="fa fa fa-language" data-content="<span><i class='fa fa-language'></i></span>"></option>
                    <option value="fa fa fa-paper-plane-o" data-content="<span><i class='fa fa fa-paper-plane-o'></i></span>"></option>
                    <option value="fa fa fa-users" data-content="<span><i class='fa fa fa-users'></i></span>"></option>
                    <option value="fa fa fa-ticket" data-content="<span><i class='fa fa fa-ticket'></i></span>"></option>
                </select>
            </div>
            break;
        case Swastika.IO.Cms.Lib.SWCmsConstants.DataType.Html:
            <div class="editor-container">
                <textarea id="@inputId" name="@inputName" class="form-control">@Model.Value</textarea>
                <script>
                    var editor = CKEDITOR.replace('@inputId');
                    editor.on('change', function (e) {
                        $('#@inputId').val(e.editor.getData());
                    })
                </script>
            </div>
            break;
        case Swastika.IO.Cms.Lib.SWCmsConstants.DataType.TextArea:
            <textarea id="@inputId" name="@inputName" class="form-control">@Model.Value</textarea>
            break;
        case Swastika.IO.Cms.Lib.SWCmsConstants.DataType.Boolean:
            Model.Value = Model.Value ?? false;
            <label class="form-check-label">
                <input class="form-check"
                       data-val="@Model.Value" data-val-required="The IsDisplay field is required."
                       type="checkbox" value="true"
                       id="@inputId" name="@inputName" />
            </label>

            break;
        default:

            <input class="form-control" type="text" id="@inputId" name="@inputName" value="@Model.Value">

            break;
    }
</div>

