<!-- Main content -->
<section class="" ng-init="loadModule()">
    <form ng-class="{'submitted': submitted}"
          ng-submit="saveModule(activedModule)">

        <actions preview-url="activedModule.detailsUrl" back-url="'/backend/module/list'"></actions>
        <div class="m-4"></div>
        <div class="row">
            <section class="col-lg-9">
                <div class="row">
                    <div class="col-lg-12">
                        <module-main module="activedModule" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-header">
                                Module Attributes (<label asp-for="Columns" class="control-label"></label>)
                                <a ng-click="addAttr()" class="btn btn-primary btn-sm float-right text-white">Add New</a>
                            </div>
                            <div class="card-body p-1">
                                <input type="hidden" asp-for="Id" />
                                <input type="hidden" asp-for="Specificulture" />
                                <input type="hidden" asp-for="Priority" />
                                <table class="table table-sm table-hover" id="Table">
                                    <thead class="thead-light">
                                        <tr>
                                            <th scope="col" width="5%">
                                                <span class="fas fa-sort"></span>
                                            </th>
                                            <th scope="col" width="5%">
                                                <span class="fas fa-sort-numeric-down"></span>
                                            </th>
                                            <th scope="col">Name</th>
                                            <th scope="col" width="20%">Data Type</th>
                                            <th scope="col" width="5%">Width</th>
                                            <th scope="col" width="5%">Display</th>
                                            <th scope="col" width="5%"></th>
                                        </tr>
                                    </thead>
                                    <tbody class="sortable">
                                        <tr class="sortable-item module-column" ng-repeat="col in activedModule.columns track by $index">
                                            <td style="cursor:move;" class="drag-header">
                                                <span class="fas fa-sort"></span>
                                            </td>
                                            <td>
                                                <input type="text" ng-model="col.priority" class="item-priority form-control form-control-sm d-inline" style="width:40px;" />
                                            </td>
                                            <td>
                                                <input ng-model="col.name" class="form-control form-control-sm" />
                                            </td>
                                            <td>
                                                <select class="form-control form-control-sm" ng-model="col.dataType">
                                                    <option ng-repeat="item in dataTypes" ng-value="item.value">{{item.title}}</option>
                                                </select>
                                            </td>
                                            <td>
                                                <input ng-model="col.width" class="form-control form-control-sm" />
                                            </td>
                                            <td>
                                                <span class="switch switch-sm">
                                                    <input type="checkbox" class="switch" ng-model="col.isDisplay">
                                                    <label ng-model="col.isDisplay">&nbsp;</label>
                                                </span>
                                            </td>
                                            <td>
                                                <a class="btn btn-light del-popover"
                                                        ng-click="removeAttr($index);">
                                                    <span class="fas fa-times text-danger"></span>
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <template-editor template="activedModule.view"></template-editor>
                    </div>
                </div>
            </section>
            <section class="col-lg-3" style="padding-left:0">
                <div class="card">
                    <div class="card-header">
                        Info
                    </div>
                    <div class="card-body">
                        <statuses status="activedModule.status" />
                        <div class="form-group">
                            <span class="switch">
                                <label>
                                    <input type="checkbox" ng-model="activedModule.isClone" class="switch">
                                    Clone
                                </label>
                            </span>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Created Date Time</label>
                            <div class="input-group input-group-sm mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1"><i class="mi mi-Calendar"></i></span>
                                </div>
                                <input ng-model="activedModule.createdDateTime" type="text" class="form-control" readonly />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label">Created By</label>
                            <div class="input-group input-group-sm mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1"><i class="mi mi-Contact"></i></span>
                                </div>
                                <input ng-model="activedModule.createdBy" class="form-control" readonly />
                            </div>
                        </div>
                    </div>
                </div>

                <custom-image header="'Feature Image'" type="'Modules'" folder="activedModule.seoName" 
                              src-url="activedModule.imageUrl" src="activedModule.image" auto="'true'"></custom-image>
                <custom-image header="'Feature Thumnail'" type="'Modules'" folder="activedModule.seoName" 
                              src-url="activedModule.thumbnailUrl" src="activedModule.thumbnail" auto="'true'"></custom-image>
            </section>
        </div>
    </form>
</section>
<!-- /.content -->